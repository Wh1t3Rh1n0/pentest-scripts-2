#!/bin/bash

if [ "$1" != "" ] ; then
    echo "This script generates the README.md file for this repository."
    exit
fi

(
cat <<EOF
# pentest-scripts-2

*More miscellaneous, one-off scripts I created while red-teaming and pentesting.*

> This README is automatically generated by <code>generate-readme.sh</code>.

---

EOF

for f in *.py *.sh ; do
    echo "## $f"
    echo
    ( echo -n '```' ; ./$f --help ) | sed -E 's/(```)([a-zA-Z0-9])/\1\n\2/g'
    echo '```'
    echo
done

) > README.md
