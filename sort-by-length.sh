#!/bin/bash

if [ "$2" == "" ] ; then
    MAX=80
else
    MAX=$2
fi

if [ ! -e "$1" ] ; then
    echo
    echo "sort-by-length | by Wh1t3Rh1n0 2022-04-29"
    echo "==============   ------------------------"
    echo "Sorts all the lines in a file from shortest to longest."
    echo "Sometimes useful when analyzing cracked passwords, building wordlists, etc."
    echo
    echo "Default max characters per line is $MAX unless otherwise specified"
    echo
    echo "Usage: ./sort-by-length <TARGET FILE> [MAX CHARACTERS PER LINE]"
    echo
    exit
fi

for n in $(seq 1 $MAX) ; do
    grep -Eo "^.{$n}$" "$1" | sort
done
